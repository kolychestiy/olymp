# Доказательство малой теоремы Ферма

## Теорема

Пусть $p$ $-$ простое число и $0 < a < p$ целое число. Тогда верно $a^{p-1} \equiv 1 \pmod p$.

## Доказательство

Сначала докажем, что $1 \cdot 2 \cdot \ldots \cdot (p-1) \equiv (1 \cdot a) \cdot (2 \cdot a) \cdot \ldots \cdot ((p-1) \cdot a) \pmod p$.

* $\forall x: 0 < x < p$ верно $x \cdot a \not\equiv 0 \pmod p$. Потому что $x$ и $a$ взаимно просты с $p$, а значит их произведение тоже взаимно просто с $p$.

* $\forall x, y: 0 < x < y < p$ верно $x \cdot a \not\equiv y \cdot a \pmod p$. Перенесём правую часть в лево и переставим местами: $y \cdot a - x \cdot a \not\equiv 0 \pmod p$. Сгруппируем: $(y - x) \cdot a \not\equiv 0 \pmod p$. $a$ взаимно просто с $p$ и $y - x$ взаимно просто с $p$ (т.к. $y - x \neq 0$ и $y - x < p$), а значит действительно не обнуляется.

Из двух перечислнных пунктов следует, что в правой части равенства все $p - 1$ множителей различны и лежат на отрезке $[1, p - 1]$. Получается, в правой части на самом деле перестановка множителей из левой части. Вынесем общий множитель в правой части:

$1 \cdot 2 \cdot \ldots \cdot (p-1) \equiv a^{p-1} \cdot 1 \cdot 2 \cdot \ldots \cdot (p-1)\pmod p$

И сократим все общие множители $1 \cdot 2 \cdot \ldots \cdot (p - 1)$ (можем, т.к. они взаимнопросты с $p$):

$1 \equiv a^{p-1} \pmod p$

ч.т.д.
